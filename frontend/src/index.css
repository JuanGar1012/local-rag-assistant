@import url("https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Outfit:wght@500;600;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  @apply m-0 bg-slate-100 text-slate-900 antialiased;
  font-family:
    "Manrope",
    "SF Pro Text",
    -apple-system,
    "Segoe UI",
    sans-serif;
}

#root {
  min-height: 100vh;
}

html.dark body {
  @apply bg-slate-950 text-slate-100;
}

@layer components {
  .apple-panel {
    @apply relative rounded-3xl border border-blue-100/90 bg-white p-4 shadow-[0_12px_35px_rgba(30,64,175,0.14)] backdrop-blur transition duration-200;
  }

  .apple-panel-glass {
    @apply bg-white/85 shadow-[0_16px_40px_rgba(30,64,175,0.2)] backdrop-blur-xl;
  }

  .apple-panel-primary {
    @apply border-blue-300/90 bg-gradient-to-b from-blue-50/70 to-white;
    box-shadow: 0 18px 44px rgba(37, 99, 235, 0.18);
  }

  .apple-panel:hover {
    transform: translateY(-1px);
    box-shadow: 0 16px 40px rgba(29, 78, 216, 0.18);
  }

  .apple-panel-accent {
    @apply mb-3 h-[3px] w-12 rounded-full bg-gradient-to-r from-blue-500 via-sky-400 to-indigo-500;
  }

  .apple-title {
    @apply text-xl font-semibold tracking-tight text-slate-900 sm:text-2xl;
    font-family: "Outfit", "Manrope", "SF Pro Display", sans-serif;
  }

  .apple-subtitle {
    @apply mt-1 text-sm text-slate-500;
  }

  .apple-input {
    @apply w-full rounded-2xl border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200;
  }

  .apple-button-primary {
    @apply rounded-2xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-500 active:scale-[0.99];
  }

  .apple-button-secondary {
    @apply rounded-xl border border-blue-200 bg-blue-50 px-3 py-1.5 text-xs font-semibold text-blue-800 transition hover:bg-blue-100 active:scale-[0.99];
  }

  .apple-chip {
    @apply rounded-full border border-blue-200 bg-white px-3 py-1 text-xs font-semibold text-blue-800 transition hover:bg-blue-50 active:scale-[0.99];
  }

  .apple-segment {
    @apply rounded-xl border border-transparent bg-blue-50 px-3 py-1.5 text-xs font-semibold text-blue-800 transition hover:bg-blue-100;
  }

  .apple-segment-active {
    @apply border-blue-200 bg-white text-blue-900 shadow-sm;
  }

  .apple-empty {
    @apply grid h-28 place-items-center rounded-2xl border border-dashed border-slate-300 bg-slate-50 text-sm text-slate-500;
  }

  .apple-kpi-pill {
    @apply rounded-full border border-blue-200 bg-blue-50 px-2.5 py-1 text-xs font-semibold text-blue-800;
  }

  .toast-ready {
    @apply inline-flex items-center rounded-2xl border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm font-semibold text-emerald-700 shadow-[0_8px_22px_rgba(16,185,129,0.2)];
    animation: toast-in 260ms ease-out;
  }

  .loading-dot {
    @apply inline-block h-2.5 w-2.5 rounded-full bg-white;
    animation: pulse-dot 900ms ease-in-out infinite;
  }

  .answer-enter {
    animation: answer-in 260ms ease-out;
  }

  .theme-switch {
    @apply relative inline-flex h-8 w-14 items-center justify-center rounded-full border border-blue-300/80 bg-blue-100/80 p-0 transition;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.35);
  }

  .theme-switch-track {
    @apply absolute inset-0 rounded-full bg-gradient-to-r from-sky-200 to-blue-300;
  }

  .theme-switch-thumb {
    @apply absolute left-[2px] top-[2px] h-6 w-6 rounded-full bg-white shadow-md transition-transform duration-200 ease-out;
  }

  .theme-switch-dark {
    @apply border-blue-900/70 bg-slate-800;
  }

  .theme-switch-dark .theme-switch-track {
    @apply bg-gradient-to-r from-blue-900 to-slate-900;
  }

  .theme-switch-thumb-dark {
    transform: translateX(24px);
    @apply bg-blue-100;
  }

  .theme-switch-icon-left {
    @apply pointer-events-none absolute left-2 text-[10px] text-blue-700;
  }

  .theme-switch-icon-right {
    @apply pointer-events-none absolute right-2 text-[11px] text-slate-100;
  }

  .sparkline-line {
    stroke-dasharray: 420;
    stroke-dashoffset: 420;
    animation: sparkline-draw 900ms ease-out forwards;
  }

  .sparkline-dot {
    opacity: 0;
    animation: sparkline-fade 700ms ease-out forwards;
    animation-delay: 300ms;
  }
}

html.dark .apple-panel {
  @apply border-blue-900/50 bg-slate-900/90 shadow-[0_20px_45px_rgba(0,0,0,0.55)];
}

html.dark .apple-panel-glass {
  @apply bg-slate-900/70;
}

html.dark .apple-panel-primary {
  @apply border-blue-700/70 bg-gradient-to-b from-blue-950/35 to-slate-900;
  box-shadow: 0 20px 48px rgba(2, 6, 23, 0.7);
}

html.dark .apple-panel:hover {
  box-shadow: 0 18px 44px rgba(2, 6, 23, 0.75);
}

html.dark .apple-kpi-pill {
  @apply border-slate-700 bg-slate-800 text-blue-200;
}

html.dark .toast-ready {
  @apply border-emerald-700 bg-emerald-950/50 text-emerald-200;
}

html.dark .apple-title {
  @apply text-slate-100;
}

html.dark .apple-subtitle {
  @apply text-slate-400;
}

html.dark .apple-input {
  @apply border-slate-700 bg-slate-950 text-slate-100 focus:border-blue-500 focus:ring-blue-900;
}

html.dark .apple-button-primary {
  @apply bg-blue-500 text-white hover:bg-blue-400;
}

html.dark .apple-button-secondary {
  @apply border-slate-700 bg-slate-800 text-blue-200 hover:bg-slate-700;
}

html.dark .apple-chip {
  @apply border-slate-700 bg-slate-800 text-blue-200 hover:bg-slate-700;
}

html.dark .apple-segment {
  @apply bg-slate-800 text-slate-300 hover:bg-slate-700;
}

html.dark .apple-segment-active {
  @apply border-slate-600 bg-slate-700 text-slate-100;
}

html.dark .apple-empty {
  @apply border-slate-700 bg-slate-900 text-slate-400;
}

html.dark .text-slate-900 {
  color: rgb(241 245 249);
}

html.dark .text-slate-800 {
  color: rgb(226 232 240);
}

html.dark .text-slate-700 {
  color: rgb(203 213 225);
}

html.dark .text-slate-600 {
  color: rgb(148 163 184);
}

html.dark .text-slate-500 {
  color: rgb(148 163 184);
}

html.dark .bg-white {
  background-color: rgb(15 23 42);
}

html.dark .bg-slate-50 {
  background-color: rgb(30 41 59);
}

html.dark .bg-slate-100 {
  background-color: rgb(30 41 59);
}

html.dark .bg-slate-200 {
  background-color: rgb(51 65 85);
}

html.dark .border-slate-200 {
  border-color: rgb(71 85 105);
}

html.dark .border-slate-300 {
  border-color: rgb(71 85 105);
}

@media (max-width: 640px) {
  .apple-panel {
    @apply rounded-2xl p-3.5;
  }
}

@keyframes sparkline-draw {
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes sparkline-fade {
  to {
    opacity: 0.92;
  }
}

@keyframes pulse-dot {
  0%,
  100% {
    transform: scale(0.75);
    opacity: 0.5;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
}

@keyframes answer-in {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes toast-in {
  from {
    opacity: 0;
    transform: translateY(-4px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}
